"use strict";exports.id=8501,exports.ids=[8501],exports.modules={3884:(a,b,c)=>{c.d(b,{K1:()=>j});var d=c(24717),e=c(5730);class f{constructor(a,b,c){this.sourceTable=a,this.referencedTable=b,this.relationName=c,this.referencedTableName=b[d.XI.Symbol.Name]}static [e.i]="Relation";referencedTableName;fieldName}class g{constructor(a,b){this.table=a,this.config=b}static [e.i]="Relations"}class h extends f{constructor(a,b,c,d){super(a,b,c?.relationName),this.config=c,this.isNullable=d}static [e.i]="One";withFieldName(a){let b=new h(this.sourceTable,this.referencedTable,this.config,this.isNullable);return b.fieldName=a,b}}class i extends f{constructor(a,b,c){super(a,b,c?.relationName),this.config=c}static [e.i]="Many";withFieldName(a){let b=new i(this.sourceTable,this.referencedTable,this.config);return b.fieldName=a,b}}function j(a,b){return new g(a,a=>Object.fromEntries(Object.entries(b(a)).map(([a,b])=>[a,b.withFieldName(a)])))}},5730:(a,b,c)=>{c.d(b,{i:()=>d,is:()=>e});let d=Symbol.for("drizzle:entityKind");function e(a,b){if(!a||"object"!=typeof a)return!1;if(a instanceof b)return!0;if(!Object.prototype.hasOwnProperty.call(b,d))throw Error(`Class "${b.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let c=Object.getPrototypeOf(a).constructor;if(c)for(;c;){if(d in c&&c[d]===b[d])return!0;c=Object.getPrototypeOf(c)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},9253:(a,b,c)=>{c.d(b,{vE:()=>l});var d=c(5730),e=c(79608),f=c(96763),g=c(65734);class h extends g.u{static [d.i]="PgTimestampBuilder";constructor(a,b,c){super(a,"date","PgTimestamp"),this.config.withTimezone=b,this.config.precision=c}build(a){return new i(a,this.config)}}class i extends f.Kl{static [d.i]="PgTimestamp";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":` (${this.precision})`;return`timestamp${a}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=a=>new Date(this.withTimezone?a:a+"+0000");mapToDriverValue=a=>a.toISOString()}class j extends g.u{static [d.i]="PgTimestampStringBuilder";constructor(a,b,c){super(a,"string","PgTimestampString"),this.config.withTimezone=b,this.config.precision=c}build(a){return new k(a,this.config)}}class k extends f.Kl{static [d.i]="PgTimestampString";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":`(${this.precision})`;return`timestamp${a}${this.withTimezone?" with time zone":""}`}}function l(a,b={}){let{name:c,config:d}=(0,e.Ll)(a,b);return d?.mode==="string"?new j(c,d.withTimezone??!1,d.precision):new h(c,d?.withTimezone??!1,d?.precision)}},10007:(a,b,c)=>{c.d(b,{V:()=>e});var d=c(5730);class e{constructor(a,b){this.table=a,this.config=b,this.name=b.name,this.keyAsName=b.keyAsName,this.notNull=b.notNull,this.default=b.default,this.defaultFn=b.defaultFn,this.onUpdateFn=b.onUpdateFn,this.hasDefault=b.hasDefault,this.primary=b.primaryKey,this.isUnique=b.isUnique,this.uniqueName=b.uniqueName,this.uniqueType=b.uniqueType,this.dataType=b.dataType,this.columnType=b.columnType,this.generated=b.generated,this.generatedIdentity=b.generatedIdentity}static [d.i]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(a){return a}mapToDriverValue(a){return a}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}},12772:(a,b,c)=>{c.d(b,{n:()=>d});let d=Symbol.for("drizzle:ViewBaseConfig")},14386:(a,b,c)=>{c.d(b,{cJ:()=>a1});var d=c(5730),e=c(24717),f=c(79608),g=c(96763),h=c(68449);class i extends h.p{static [d.i]="PgBigInt53Builder";constructor(a){super(a,"number","PgBigInt53")}build(a){return new j(a,this.config)}}class j extends g.Kl{static [d.i]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}}class k extends h.p{static [d.i]="PgBigInt64Builder";constructor(a){super(a,"bigint","PgBigInt64")}build(a){return new l(a,this.config)}}class l extends g.Kl{static [d.i]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(a){return BigInt(a)}}function m(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return"number"===d.mode?new i(c):new k(c)}class n extends g.pe{static [d.i]="PgBigSerial53Builder";constructor(a){super(a,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new o(a,this.config)}}class o extends g.Kl{static [d.i]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}}class p extends g.pe{static [d.i]="PgBigSerial64Builder";constructor(a){super(a,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(a){return new q(a,this.config)}}class q extends g.Kl{static [d.i]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(a){return BigInt(a)}}function r(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return"number"===d.mode?new n(c):new p(c)}var s=c(54693);class t extends g.pe{static [d.i]="PgCharBuilder";constructor(a,b){super(a,"string","PgChar"),this.config.length=b.length,this.config.enumValues=b.enum}build(a){return new u(a,this.config)}}class u extends g.Kl{static [d.i]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function v(a,b={}){let{name:c,config:d}=(0,f.Ll)(a,b);return new t(c,d)}class w extends g.pe{static [d.i]="PgCidrBuilder";constructor(a){super(a,"string","PgCidr")}build(a){return new x(a,this.config)}}class x extends g.Kl{static [d.i]="PgCidr";getSQLType(){return"cidr"}}function y(a){return new w(a??"")}class z extends g.pe{static [d.i]="PgCustomColumnBuilder";constructor(a,b,c){super(a,"custom","PgCustomColumn"),this.config.fieldConfig=b,this.config.customTypeParams=c}build(a){return new A(a,this.config)}}class A extends g.Kl{static [d.i]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(a,b){super(a,b),this.sqlName=b.customTypeParams.dataType(b.fieldConfig),this.mapTo=b.customTypeParams.toDriver,this.mapFrom=b.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(a){return"function"==typeof this.mapFrom?this.mapFrom(a):a}mapToDriverValue(a){return"function"==typeof this.mapTo?this.mapTo(a):a}}function B(a){return(b,c)=>{let{name:d,config:e}=(0,f.Ll)(b,c);return new z(d,e,a)}}var C=c(37193);class D extends g.pe{static [d.i]="PgDoublePrecisionBuilder";constructor(a){super(a,"number","PgDoublePrecision")}build(a){return new E(a,this.config)}}class E extends g.Kl{static [d.i]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(a){return"string"==typeof a?Number.parseFloat(a):a}}function F(a){return new D(a??"")}class G extends g.pe{static [d.i]="PgInetBuilder";constructor(a){super(a,"string","PgInet")}build(a){return new H(a,this.config)}}class H extends g.Kl{static [d.i]="PgInet";getSQLType(){return"inet"}}function I(a){return new G(a??"")}var J=c(63431);class K extends g.pe{static [d.i]="PgIntervalBuilder";constructor(a,b){super(a,"string","PgInterval"),this.config.intervalConfig=b}build(a){return new L(a,this.config)}}class L extends g.Kl{static [d.i]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let a=this.fields?` ${this.fields}`:"",b=this.precision?`(${this.precision})`:"";return`interval${a}${b}`}}function M(a,b={}){let{name:c,config:d}=(0,f.Ll)(a,b);return new K(c,d)}class N extends g.pe{static [d.i]="PgJsonBuilder";constructor(a){super(a,"json","PgJson")}build(a){return new O(a,this.config)}}class O extends g.Kl{static [d.i]="PgJson";constructor(a,b){super(a,b)}getSQLType(){return"json"}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){if("string"==typeof a)try{return JSON.parse(a)}catch{}return a}}function P(a){return new N(a??"")}class Q extends g.pe{static [d.i]="PgJsonbBuilder";constructor(a){super(a,"json","PgJsonb")}build(a){return new R(a,this.config)}}class R extends g.Kl{static [d.i]="PgJsonb";constructor(a,b){super(a,b)}getSQLType(){return"jsonb"}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){if("string"==typeof a)try{return JSON.parse(a)}catch{}return a}}function S(a){return new Q(a??"")}class T extends g.pe{static [d.i]="PgLineBuilder";constructor(a){super(a,"array","PgLine")}build(a){return new U(a,this.config)}}class U extends g.Kl{static [d.i]="PgLine";getSQLType(){return"line"}mapFromDriverValue(a){let[b,c,d]=a.slice(1,-1).split(",");return[Number.parseFloat(b),Number.parseFloat(c),Number.parseFloat(d)]}mapToDriverValue(a){return`{${a[0]},${a[1]},${a[2]}}`}}class V extends g.pe{static [d.i]="PgLineABCBuilder";constructor(a){super(a,"json","PgLineABC")}build(a){return new W(a,this.config)}}class W extends g.Kl{static [d.i]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(a){let[b,c,d]=a.slice(1,-1).split(",");return{a:Number.parseFloat(b),b:Number.parseFloat(c),c:Number.parseFloat(d)}}mapToDriverValue(a){return`{${a.a},${a.b},${a.c}}`}}function X(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return d?.mode&&"tuple"!==d.mode?new V(c):new T(c)}class Y extends g.pe{static [d.i]="PgMacaddrBuilder";constructor(a){super(a,"string","PgMacaddr")}build(a){return new Z(a,this.config)}}class Z extends g.Kl{static [d.i]="PgMacaddr";getSQLType(){return"macaddr"}}function $(a){return new Y(a??"")}class _ extends g.pe{static [d.i]="PgMacaddr8Builder";constructor(a){super(a,"string","PgMacaddr8")}build(a){return new aa(a,this.config)}}class aa extends g.Kl{static [d.i]="PgMacaddr8";getSQLType(){return"macaddr8"}}function ab(a){return new _(a??"")}class ac extends g.pe{static [d.i]="PgNumericBuilder";constructor(a,b,c){super(a,"string","PgNumeric"),this.config.precision=b,this.config.scale=c}build(a){return new ad(a,this.config)}}class ad extends g.Kl{static [d.i]="PgNumeric";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function ae(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return new ac(c,d?.precision,d?.scale)}class af extends g.pe{static [d.i]="PgPointTupleBuilder";constructor(a){super(a,"array","PgPointTuple")}build(a){return new ag(a,this.config)}}class ag extends g.Kl{static [d.i]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(a){if("string"==typeof a){let[b,c]=a.slice(1,-1).split(",");return[Number.parseFloat(b),Number.parseFloat(c)]}return[a.x,a.y]}mapToDriverValue(a){return`(${a[0]},${a[1]})`}}class ah extends g.pe{static [d.i]="PgPointObjectBuilder";constructor(a){super(a,"json","PgPointObject")}build(a){return new ai(a,this.config)}}class ai extends g.Kl{static [d.i]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(a){if("string"==typeof a){let[b,c]=a.slice(1,-1).split(",");return{x:Number.parseFloat(b),y:Number.parseFloat(c)}}return a}mapToDriverValue(a){return`(${a.x},${a.y})`}}function aj(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return d?.mode&&"tuple"!==d.mode?new ah(c):new af(c)}function ak(a,b){let c=new DataView(new ArrayBuffer(8));for(let d=0;d<8;d++)c.setUint8(d,a[b+d]);return c.getFloat64(0,!0)}function al(a){let b=function(a){let b=[];for(let c=0;c<a.length;c+=2)b.push(Number.parseInt(a.slice(c,c+2),16));return new Uint8Array(b)}(a),c=0,d=b[0];c+=1;let e=new DataView(b.buffer),f=e.getUint32(c,1===d);if(c+=4,0x20000000&f&&(e.getUint32(c,1===d),c+=4),(65535&f)==1){let a=ak(b,c),d=ak(b,c+=8);return c+=8,[a,d]}throw Error("Unsupported geometry type")}class am extends g.pe{static [d.i]="PgGeometryBuilder";constructor(a){super(a,"array","PgGeometry")}build(a){return new an(a,this.config)}}class an extends g.Kl{static [d.i]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(a){return al(a)}mapToDriverValue(a){return`point(${a[0]} ${a[1]})`}}class ao extends g.pe{static [d.i]="PgGeometryObjectBuilder";constructor(a){super(a,"json","PgGeometryObject")}build(a){return new ap(a,this.config)}}class ap extends g.Kl{static [d.i]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(a){let b=al(a);return{x:b[0],y:b[1]}}mapToDriverValue(a){return`point(${a.x} ${a.y})`}}function aq(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return d?.mode&&"tuple"!==d.mode?new ao(c):new am(c)}class ar extends g.pe{static [d.i]="PgRealBuilder";constructor(a,b){super(a,"number","PgReal"),this.config.length=b}build(a){return new as(a,this.config)}}class as extends g.Kl{static [d.i]="PgReal";constructor(a,b){super(a,b)}getSQLType(){return"real"}mapFromDriverValue=a=>"string"==typeof a?Number.parseFloat(a):a}function at(a){return new ar(a??"")}var au=c(50033);class av extends h.p{static [d.i]="PgSmallIntBuilder";constructor(a){super(a,"number","PgSmallInt")}build(a){return new aw(a,this.config)}}class aw extends g.Kl{static [d.i]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=a=>"string"==typeof a?Number(a):a}function ax(a){return new av(a??"")}class ay extends g.pe{static [d.i]="PgSmallSerialBuilder";constructor(a){super(a,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new az(a,this.config)}}class az extends g.Kl{static [d.i]="PgSmallSerial";getSQLType(){return"smallserial"}}function aA(a){return new ay(a??"")}var aB=c(29334),aC=c(65734);class aD extends aC.u{constructor(a,b,c){super(a,"string","PgTime"),this.withTimezone=b,this.precision=c,this.config.withTimezone=b,this.config.precision=c}static [d.i]="PgTimeBuilder";build(a){return new aE(a,this.config)}}class aE extends g.Kl{static [d.i]="PgTime";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":`(${this.precision})`;return`time${a}${this.withTimezone?" with time zone":""}`}}function aF(a,b={}){let{name:c,config:d}=(0,f.Ll)(a,b);return new aD(c,d.withTimezone??!1,d.precision)}var aG=c(9253),aH=c(14682);class aI extends g.pe{static [d.i]="PgUUIDBuilder";constructor(a){super(a,"string","PgUUID")}defaultRandom(){return this.default((0,aH.ll)`gen_random_uuid()`)}build(a){return new aJ(a,this.config)}}class aJ extends g.Kl{static [d.i]="PgUUID";getSQLType(){return"uuid"}}function aK(a){return new aI(a??"")}class aL extends g.pe{static [d.i]="PgVarcharBuilder";constructor(a,b){super(a,"string","PgVarchar"),this.config.length=b.length,this.config.enumValues=b.enum}build(a){return new aM(a,this.config)}}class aM extends g.Kl{static [d.i]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function aN(a,b={}){let{name:c,config:d}=(0,f.Ll)(a,b);return new aL(c,d)}class aO extends g.pe{static [d.i]="PgBinaryVectorBuilder";constructor(a,b){super(a,"string","PgBinaryVector"),this.config.dimensions=b.dimensions}build(a){return new aP(a,this.config)}}class aP extends g.Kl{static [d.i]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function aQ(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return new aO(c,d)}class aR extends g.pe{static [d.i]="PgHalfVectorBuilder";constructor(a,b){super(a,"array","PgHalfVector"),this.config.dimensions=b.dimensions}build(a){return new aS(a,this.config)}}class aS extends g.Kl{static [d.i]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){return a.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function aT(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return new aR(c,d)}class aU extends g.pe{static [d.i]="PgSparseVectorBuilder";constructor(a,b){super(a,"string","PgSparseVector"),this.config.dimensions=b.dimensions}build(a){return new aV(a,this.config)}}class aV extends g.Kl{static [d.i]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function aW(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return new aU(c,d)}class aX extends g.pe{static [d.i]="PgVectorBuilder";constructor(a,b){super(a,"array","PgVector"),this.config.dimensions=b.dimensions}build(a){return new aY(a,this.config)}}class aY extends g.Kl{static [d.i]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){return a.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function aZ(a,b){let{name:c,config:d}=(0,f.Ll)(a,b);return new aX(c,d)}let a$=Symbol.for("drizzle:PgInlineForeignKeys"),a_=Symbol.for("drizzle:EnableRLS");class a0 extends e.XI{static [d.i]="PgTable";static Symbol=Object.assign({},e.XI.Symbol,{InlineForeignKeys:a$,EnableRLS:a_});[a$]=[];[a_]=!1;[e.XI.Symbol.ExtraConfigBuilder]=void 0}let a1=(a,b,c)=>(function(a,b,c,d,f=a){let g=new a0(a,d,f),h="function"==typeof b?b({bigint:m,bigserial:r,boolean:s.zM,char:v,cidr:y,customType:B,date:C.p6,doublePrecision:F,inet:I,integer:J.nd,interval:M,json:P,jsonb:S,line:X,macaddr:$,macaddr8:ab,numeric:ae,point:aj,geometry:aq,real:at,serial:au.vX,smallint:ax,smallserial:aA,text:aB.Qq,time:aF,timestamp:aG.vE,uuid:aK,varchar:aN,bit:aQ,halfvec:aT,sparsevec:aW,vector:aZ}):b,i=Object.fromEntries(Object.entries(h).map(([a,b])=>{b.setName(a);let c=b.build(g);return g[a$].push(...b.buildForeignKeys(c,g)),[a,c]})),j=Object.fromEntries(Object.entries(h).map(([a,b])=>(b.setName(a),[a,b.buildExtraConfigColumn(g)]))),k=Object.assign(g,i);return k[e.XI.Symbol.Columns]=i,k[e.XI.Symbol.ExtraConfigColumns]=j,c&&(k[a0.Symbol.ExtraConfigBuilder]=c),Object.assign(k,{enableRLS:()=>(k[a0.Symbol.EnableRLS]=!0,k)})})(a,b,c,void 0)},14682:(a,b,c)=>{let d,e;c.d(b,{Xs:()=>q,eg:()=>z,ll:()=>v});var f=c(5730),g=c(88544);class h{static [f.i]="Subquery";constructor(a,b,c,d=!1){this._={brand:"Subquery",sql:a,selectedFields:b,alias:c,isWith:d}}}class i extends null{static [f.i]=null}var j=c(69167);let k={startActiveSpan:(a,b)=>d?(e||(e=d.trace.getTracer("drizzle-orm","0.38.4")),(0,j.i)((c,d)=>d.startActiveSpan(a,a=>{try{return b(a)}catch(b){throw a.setStatus({code:c.SpanStatusCode.ERROR,message:b instanceof Error?b.message:"Unknown error"}),b}finally{a.end()}}),d,e)):b()};var l=c(12772),m=c(10007),n=c(24717);class o{static [f.i]=null}class p{static [f.i]="StringChunk";value;constructor(a){this.value=Array.isArray(a)?a:[a]}getSQL(){return new q([this])}}class q{constructor(a){this.queryChunks=a}static [f.i]="SQL";decoder=s;shouldInlineParams=!1;append(a){return this.queryChunks.push(...a.queryChunks),this}toQuery(a){return k.startActiveSpan("drizzle.buildSQL",b=>{let c=this.buildQueryFromSourceParams(this.queryChunks,a);return b?.setAttributes({"drizzle.query.text":c.sql,"drizzle.query.params":JSON.stringify(c.params)}),c})}buildQueryFromSourceParams(a,b){let c=Object.assign({},b,{inlineParams:b.inlineParams||this.shouldInlineParams,paramStartIndex:b.paramStartIndex||{value:0}}),{casing:d,escapeName:e,escapeParam:i,prepareTyping:j,inlineParams:k,paramStartIndex:o}=c;var s=a.map(a=>{if((0,f.is)(a,p))return{sql:a.value.join(""),params:[]};if((0,f.is)(a,r))return{sql:e(a.value),params:[]};if(void 0===a)return{sql:"",params:[]};if(Array.isArray(a)){let b=[new p("(")];for(let[c,d]of a.entries())b.push(d),c<a.length-1&&b.push(new p(", "));return b.push(new p(")")),this.buildQueryFromSourceParams(b,c)}if((0,f.is)(a,q))return this.buildQueryFromSourceParams(a.queryChunks,{...c,inlineParams:k||a.shouldInlineParams});if((0,f.is)(a,n.XI)){let b=a[n.XI.Symbol.Schema],c=a[n.XI.Symbol.Name];return{sql:void 0===b?e(c):e(b)+"."+e(c),params:[]}}if((0,f.is)(a,m.V)){let c=d.getColumnCasing(a);if("indexes"===b.invokeSource)return{sql:e(c),params:[]};let f=a.table[n.XI.Symbol.Schema];return{sql:a.table[n.HE]||void 0===f?e(a.table[n.XI.Symbol.Name])+"."+e(c):e(f)+"."+e(a.table[n.XI.Symbol.Name])+"."+e(c),params:[]}}if((0,f.is)(a,y)){let b=a[l.n].schema,c=a[l.n].name;return{sql:void 0===b?e(c):e(b)+"."+e(c),params:[]}}if((0,f.is)(a,u)){if((0,f.is)(a.value,w))return{sql:i(o.value++,a),params:[a],typings:["none"]};let b=null===a.value?null:a.encoder.mapToDriverValue(a.value);if((0,f.is)(b,q))return this.buildQueryFromSourceParams([b],c);if(k)return{sql:this.mapInlineParam(b,c),params:[]};let d=["none"];return j&&(d=[j(a.encoder)]),{sql:i(o.value++,b),params:[b],typings:d}}return(0,f.is)(a,w)?{sql:i(o.value++,a),params:[a],typings:["none"]}:(0,f.is)(a,q.Aliased)&&void 0!==a.fieldAlias?{sql:e(a.fieldAlias),params:[]}:(0,f.is)(a,h)?a._.isWith?{sql:e(a._.alias),params:[]}:this.buildQueryFromSourceParams([new p("("),a._.sql,new p(") "),new r(a._.alias)],c):(0,g.BU)(a)?a.schema?{sql:e(a.schema)+"."+e(a.enumName),params:[]}:{sql:e(a.enumName),params:[]}:null!=a&&"function"==typeof a.getSQL?a.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([a.getSQL()],c):this.buildQueryFromSourceParams([new p("("),a.getSQL(),new p(")")],c):k?{sql:this.mapInlineParam(a,c),params:[]}:{sql:i(o.value++,a),params:[a],typings:["none"]}});let t={sql:"",params:[]};for(let a of s)t.sql+=a.sql,t.params.push(...a.params),a.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...a.typings));return t}mapInlineParam(a,{escapeString:b}){if(null===a)return"null";if("number"==typeof a||"boolean"==typeof a)return a.toString();if("string"==typeof a)return b(a);if("object"==typeof a){let c=a.toString();return"[object Object]"===c?b(JSON.stringify(a)):b(c)}throw Error("Unexpected param value: "+a)}getSQL(){return this}as(a){return void 0===a?this:new q.Aliased(this,a)}mapWith(a){return this.decoder="function"==typeof a?{mapFromDriverValue:a}:a,this}inlineParams(){return this.shouldInlineParams=!0,this}if(a){return a?this:void 0}}class r{constructor(a){this.value=a}static [f.i]="Name";brand;getSQL(){return new q([this])}}let s={mapFromDriverValue:a=>a},t={mapToDriverValue:a=>a};({...s,...t});class u{constructor(a,b=t){this.value=a,this.encoder=b}static [f.i]="Param";brand;getSQL(){return new q([this])}}function v(a,...b){let c=[];for(let[d,e]of((b.length>0||a.length>0&&""!==a[0])&&c.push(new p(a[0])),b.entries()))c.push(e,new p(a[d+1]));return new q(c)}(a=>{a.empty=function(){return new q([])},a.fromList=function(a){return new q(a)},a.raw=function(a){return new q([new p(a)])},a.join=function(a,b){let c=[];for(let[d,e]of a.entries())d>0&&void 0!==b&&c.push(b),c.push(e);return new q(c)},a.identifier=function(a){return new r(a)},a.placeholder=function(a){return new w(a)},a.param=function(a,b){return new u(a,b)}})(v||(v={})),(a=>{class b{constructor(a,b){this.sql=a,this.fieldAlias=b}static [f.i]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new b(this.sql,this.fieldAlias)}}a.Aliased=b})(q||(q={}));class w{constructor(a){this.name=a}static [f.i]="Placeholder";getSQL(){return new q([this])}}let x=Symbol.for("drizzle:IsDrizzleView");class y{static [f.i]="View";[l.n];[x]=!0;constructor({name:a,schema:b,selectedFields:c,query:d}){this[l.n]={name:a,originalName:a,schema:b,selectedFields:c,query:d,isExisting:!d,isAlias:!1}}getSQL(){return new q([this])}}function z(a){return"object"==typeof a&&null!==a&&x in a}m.V.prototype.getSQL=function(){return new q([this])},n.XI.prototype.getSQL=function(){return new q([this])},h.prototype.getSQL=function(){return new q([this])}},24717:(a,b,c)=>{c.d(b,{HE:()=>k,XI:()=>n,bI:()=>o});var d=c(5730),e=c(86214);let f=Symbol.for("drizzle:Schema"),g=Symbol.for("drizzle:Columns"),h=Symbol.for("drizzle:ExtraConfigColumns"),i=Symbol.for("drizzle:OriginalName"),j=Symbol.for("drizzle:BaseName"),k=Symbol.for("drizzle:IsAlias"),l=Symbol.for("drizzle:ExtraConfigBuilder"),m=Symbol.for("drizzle:IsDrizzleTable");class n{static [d.i]="Table";static Symbol={Name:e.E,Schema:f,OriginalName:i,Columns:g,ExtraConfigColumns:h,BaseName:j,IsAlias:k,ExtraConfigBuilder:l};[e.E];[i];[f];[g];[h];[j];[k]=!1;[m]=!0;[l]=void 0;constructor(a,b,c){this[e.E]=this[i]=a,this[f]=b,this[j]=c}}function o(a){return"object"==typeof a&&null!==a&&m in a}},29334:(a,b,c)=>{c.d(b,{Qq:()=>i});var d=c(5730),e=c(79608),f=c(96763);class g extends f.pe{static [d.i]="PgTextBuilder";constructor(a,b){super(a,"string","PgText"),this.config.enumValues=b.enum}build(a){return new h(a,this.config)}}class h extends f.Kl{static [d.i]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function i(a,b={}){let{name:c,config:d}=(0,e.Ll)(a,b);return new g(c,d)}},37193:(a,b,c)=>{c.d(b,{p6:()=>l});var d=c(5730),e=c(79608),f=c(96763),g=c(65734);class h extends g.u{static [d.i]="PgDateBuilder";constructor(a){super(a,"date","PgDate")}build(a){return new i(a,this.config)}}class i extends f.Kl{static [d.i]="PgDate";getSQLType(){return"date"}mapFromDriverValue(a){return new Date(a)}mapToDriverValue(a){return a.toISOString()}}class j extends g.u{static [d.i]="PgDateStringBuilder";constructor(a){super(a,"string","PgDateString")}build(a){return new k(a,this.config)}}class k extends f.Kl{static [d.i]="PgDateString";getSQLType(){return"date"}}function l(a,b){let{name:c,config:d}=(0,e.Ll)(a,b);return d?.mode==="date"?new h(c):new j(c)}},50033:(a,b,c)=>{c.d(b,{vX:()=>h});var d=c(5730),e=c(96763);class f extends e.pe{static [d.i]="PgSerialBuilder";constructor(a){super(a,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new g(a,this.config)}}class g extends e.Kl{static [d.i]="PgSerial";getSQLType(){return"serial"}}function h(a){return new f(a??"")}},54693:(a,b,c)=>{c.d(b,{zM:()=>h});var d=c(5730),e=c(96763);class f extends e.pe{static [d.i]="PgBooleanBuilder";constructor(a){super(a,"boolean","PgBoolean")}build(a){return new g(a,this.config)}}class g extends e.Kl{static [d.i]="PgBoolean";getSQLType(){return"boolean"}}function h(a){return new f(a??"")}},63431:(a,b,c)=>{c.d(b,{nd:()=>i});var d=c(5730),e=c(96763),f=c(68449);class g extends f.p{static [d.i]="PgIntegerBuilder";constructor(a){super(a,"number","PgInteger")}build(a){return new h(a,this.config)}}class h extends e.Kl{static [d.i]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(a){return"string"==typeof a?Number.parseInt(a):a}}function i(a){return new g(a??"")}},65734:(a,b,c)=>{c.d(b,{u:()=>g});var d=c(5730),e=c(14682),f=c(96763);class g extends f.pe{static [d.i]="PgDateColumnBaseBuilder";defaultNow(){return this.default((0,e.ll)`now()`)}}},68449:(a,b,c)=>{c.d(b,{p:()=>f});var d=c(5730),e=c(96763);class f extends e.pe{static [d.i]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(a){if(a){let{name:b,...c}=a;this.config.generatedIdentity={type:"always",sequenceName:b,sequenceOptions:c}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(a){if(a){let{name:b,...c}=a;this.config.generatedIdentity={type:"byDefault",sequenceName:b,sequenceOptions:c}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}},69167:(a,b,c)=>{c.d(b,{i:()=>d});function d(a,...b){return a(...b)}},79608:(a,b,c)=>{c.d(b,{Ll:()=>h,O1:()=>g,YD:()=>f});var d=c(24717),e=c(12772);function f(a){return a[d.XI.Symbol.Columns]}function g(a){return a[e.n].selectedFields}function h(a,b){return{name:"string"==typeof a&&a.length>0?a:"",config:"object"==typeof a?a:b}}},86214:(a,b,c)=>{c.d(b,{E:()=>d});let d=Symbol.for("drizzle:Name")},88544:(a,b,c)=>{c.d(b,{BU:()=>g,rL:()=>j});var d=c(5730),e=c(96763);let f=Symbol.for("drizzle:isPgEnum");function g(a){return!!a&&"function"==typeof a&&f in a&&!0===a[f]}class h extends e.pe{static [d.i]="PgEnumColumnBuilder";constructor(a,b){super(a,"string","PgEnumColumn"),this.config.enum=b}build(a){return new i(a,this.config)}}class i extends e.Kl{static [d.i]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}function j(a,b){var c=a,d=b,e=void 0;let g=Object.assign(a=>new h(a??"",g),{enumName:c,enumValues:d,schema:e,[f]:!0});return g}},90431:(a,b,c)=>{c.d(b,{r:()=>q});var d=c(24717),e=c(79608),f=c(5730),g=c(10007),h=c(14682),i=c(70762);let j={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:0xffffff,INT32_MIN:-0x80000000,INT32_MAX:0x7fffffff,INT32_UNSIGNED_MAX:0xffffffff,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-0x8000000000000000n,INT64_MAX:0x7fffffffffffffffn,INT64_UNSIGNED_MAX:0xffffffffffffffffn};function k(a,b){return b.includes(a.columnType)}let l=i.z.union([i.z.string(),i.z.number(),i.z.boolean(),i.z.null()]),m=i.z.lazy(()=>i.z.union([l,i.z.array(m),i.z.record(m)])),n=i.z.custom(a=>a instanceof Buffer);function o(a){return(0,d.bI)(a)?(0,e.YD)(a):(0,e.O1)(a)}let p={never:a=>a?.generated?.type==="always"||a?.generatedIdentity?.type==="always",optional:a=>!a.notNull||a.notNull&&a.hasDefault,nullable:a=>!a.notNull},q=(a,b)=>(function a(b,c,e,l){let p={};for(let[q,r]of Object.entries(b)){if(!(0,f.is)(r,g.V)&&!(0,f.is)(r,h.Xs)&&!(0,f.is)(r,h.Xs.Aliased)&&"object"==typeof r){let b=(0,d.bI)(r)||(0,h.eg)(r)?o(r):r;p[q]=a(b,c[q]??{},e,l);continue}let b=c[q];if(void 0!==b&&"function"!=typeof b){p[q]=b;continue}let s=(0,f.is)(r,g.V)?r:void 0,t=s?function a(b,c){let d;return"enumValues"in b&&Array.isArray(b.enumValues)&&b.enumValues.length>0&&(d=b.enumValues.length?c.enum(b.enumValues):c.string()),d||(k(b,["PgGeometry","PgPointTuple"])?d=c.tuple([c.number(),c.number()]):k(b,["PgGeometryObject","PgPointObject"])?d=c.object({x:c.number(),y:c.number()}):k(b,["PgHalfVector","PgVector"])?(d=c.array(c.number()),d=b.dimensions?d.length(b.dimensions):d):k(b,["PgLine"])?d=c.tuple([c.number(),c.number(),c.number()]):k(b,["PgLineABC"])?d=c.object({a:c.number(),b:c.number(),c:c.number()}):k(b,["PgArray"])?(d=c.array(a(b.baseColumn,c)),d=b.size?d.length(b.size):d):"array"===b.dataType?d=c.array(c.any()):"number"===b.dataType?d=function(a,b){let c,d,e=a.getSQLType().includes("unsigned"),f=!1;k(a,["MySqlTinyInt","SingleStoreTinyInt"])?(c=e?0:j.INT8_MIN,d=e?j.INT8_UNSIGNED_MAX:j.INT8_MAX,f=!0):k(a,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(c=e?0:j.INT16_MIN,d=e?j.INT16_UNSIGNED_MAX:j.INT16_MAX,f=!0):k(a,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(c=e?0:j.INT24_MIN,d=e?j.INT24_UNSIGNED_MAX:j.INT24_MAX,f=k(a,["MySqlMediumInt","SingleStoreMediumInt"])):k(a,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(c=e?0:j.INT32_MIN,d=e?j.INT32_UNSIGNED_MAX:j.INT32_MAX,f=!0):k(a,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(c=e?0:j.INT48_MIN,d=e?j.INT48_UNSIGNED_MAX:j.INT48_MAX):k(a,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(c=(e=e||k(a,["MySqlSerial","SingleStoreSerial"]))?0:Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,f=!0):k(a,["MySqlYear","SingleStoreYear"])?(c=1901,d=2155,f=!0):(c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER);let g=b.number().min(c).max(d);return f?g.int():g}(b,c):"bigint"===b.dataType?d=function(a,b){let c=a.getSQLType().includes("unsigned"),d=c?0n:j.INT64_MIN,e=c?j.INT64_UNSIGNED_MAX:j.INT64_MAX;return b.bigint().min(d).max(e)}(b,c):"boolean"===b.dataType?d=c.boolean():"date"===b.dataType?d=c.date():"string"===b.dataType?d=function(a,b){let c,d;if(k(a,["PgUUID"]))return b.string().uuid();let e=!1;k(a,["PgVarchar","SQLiteText"])?c=a.length:k(a,["MySqlVarChar","SingleStoreVarChar"])?c=a.length??j.INT16_UNSIGNED_MAX:k(a,["MySqlText","SingleStoreText"])&&(c="longtext"===a.textType?j.INT32_UNSIGNED_MAX:"mediumtext"===a.textType?j.INT24_UNSIGNED_MAX:"text"===a.textType?j.INT16_UNSIGNED_MAX:j.INT8_UNSIGNED_MAX),k(a,["PgChar","MySqlChar","SingleStoreChar"])&&(c=a.length,e=!0),k(a,["PgBinaryVector"])&&(d=/^[01]+$/,c=a.dimensions);let f=b.string();return f=d?f.regex(d):f,c&&e?f.length(c):c?f.max(c):f}(b,c):"json"===b.dataType?d=m:"custom"===b.dataType?d=c.any():"buffer"===b.dataType&&(d=n)),d||(d=c.any()),d}(s,l?.zodInstance??i.z):i.z.any(),u="function"==typeof b?b(t):t;!e.never(s)&&(p[q]=u,s&&(e.nullable(s)&&(p[q]=p[q].nullable()),e.optional(s)&&(p[q]=p[q].optional())))}return i.z.object(p)})(o(a),b??{},p)},91036:(a,b,c)=>{c.d(b,{Am:()=>f,Wx:()=>g});var d=c(5730),e=c(86214);function f(a){return new i(a)}function g(a,b){return`${a[e.E]}_${b.join("_")}_unique`}class h{constructor(a,b){this.name=b,this.columns=a}static [d.i]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(a){return new j(a,this.columns,this.nullsNotDistinctConfig,this.name)}}class i{static [d.i]="PgUniqueOnConstraintBuilder";name;constructor(a){this.name=a}on(...a){return new h(a,this.name)}}class j{constructor(a,b,c,d){this.table=a,this.columns=b,this.name=d??g(this.table,this.columns.map(a=>a.name)),this.nullsNotDistinct=c}static [d.i]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}},96763:(a,b,c)=>{c.d(b,{Kl:()=>n,pe:()=>m});var d=c(5730);class e{static [d.i]="ColumnBuilder";config;constructor(a,b,c){this.config={name:a,keyAsName:""===a,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:b,columnType:c,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(a){return this.config.default=a,this.config.hasDefault=!0,this}$defaultFn(a){return this.config.defaultFn=a,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(a){return this.config.onUpdateFn=a,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(a){""===this.config.name&&(this.config.name=a)}}var f=c(10007),g=c(86214);class h{static [d.i]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(a,b){this.reference=()=>{let{name:b,columns:c,foreignColumns:d}=a();return{name:b,columns:c,foreignTable:d[0].table,foreignColumns:d}},b&&(this._onUpdate=b.onUpdate,this._onDelete=b.onDelete)}onUpdate(a){return this._onUpdate=void 0===a?"no action":a,this}onDelete(a){return this._onDelete=void 0===a?"no action":a,this}build(a){return new i(a,this)}}class i{constructor(a,b){this.table=a,this.reference=b.reference,this.onUpdate=b._onUpdate,this.onDelete=b._onDelete}static [d.i]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:a,columns:b,foreignColumns:c}=this.reference(),d=b.map(a=>a.name),e=c.map(a=>a.name),f=[this.table[g.E],...d,c[0].table[g.E],...e];return a??`${f.join("_")}_fk`}}var j=c(69167),k=c(91036);function l(a,b,c){for(let d=b;d<a.length;d++){let e=a[d];if("\\"===e){d++;continue}if('"'===e)return[a.slice(b,d).replace(/\\/g,""),d+1];if(!c&&(","===e||"}"===e))return[a.slice(b,d).replace(/\\/g,""),d]}return[a.slice(b).replace(/\\/g,""),a.length]}class m extends e{foreignKeyConfigs=[];static [d.i]="PgColumnBuilder";array(a){return new q(this.config.name,this,a)}references(a,b={}){return this.foreignKeyConfigs.push({ref:a,actions:b}),this}unique(a,b){return this.config.isUnique=!0,this.config.uniqueName=a,this.config.uniqueType=b?.nulls,this}generatedAlwaysAs(a){return this.config.generated={as:a,type:"always",mode:"stored"},this}buildForeignKeys(a,b){return this.foreignKeyConfigs.map(({ref:c,actions:d})=>(0,j.i)((c,d)=>{let e=new h(()=>({columns:[a],foreignColumns:[c()]}));return d.onUpdate&&e.onUpdate(d.onUpdate),d.onDelete&&e.onDelete(d.onDelete),e.build(b)},c,d))}buildExtraConfigColumn(a){return new o(a,this.config)}}class n extends f.V{constructor(a,b){b.uniqueName||(b.uniqueName=(0,k.Wx)(a,[b.name])),super(a,b),this.table=a}static [d.i]="PgColumn"}class o extends n{static [d.i]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(a){return this.indexConfig.opClass=a,this}}class p{static [d.i]=null;constructor(a,b,c,d){this.name=a,this.keyAsName=b,this.type=c,this.indexConfig=d}name;keyAsName;type;indexConfig}class q extends m{static [d.i]="PgArrayBuilder";constructor(a,b,c){super(a,"array","PgArray"),this.config.baseBuilder=b,this.config.size=c}build(a){let b=this.config.baseBuilder.build(a);return new r(a,this.config,b)}}class r extends n{constructor(a,b,c,d){super(a,b),this.baseColumn=c,this.range=d,this.size=b.size}size;static [d.i]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(a){return"string"==typeof a&&(a=function(a){let[b]=function a(b,c=0){let d=[],e=c,f=!1;for(;e<b.length;){let g=b[e];if(","===g){(f||e===c)&&d.push(""),f=!0,e++;continue}if(f=!1,"\\"===g){e+=2;continue}if('"'===g){let[a,c]=l(b,e+1,!0);d.push(a),e=c;continue}if("}"===g)return[d,e+1];if("{"===g){let[c,f]=a(b,e+1);d.push(c),e=f;continue}let[h,i]=l(b,e,!1);d.push(h),e=i}return[d,e]}(a,1);return b}(a)),a.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(a,b=!1){let c=a.map(a=>null===a?null:(0,d.is)(this.baseColumn,r)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return b?c:function a(b){return`{${b.map(b=>Array.isArray(b)?a(b):"string"==typeof b?`"${b.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${b}`).join(",")}}`}(c)}}}};