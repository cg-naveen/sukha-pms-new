"use strict";exports.id=7760,exports.ids=[7760],exports.modules={12210:(a,b,c)=>{c.d(b,{lV:()=>l,MJ:()=>s,zB:()=>n,eI:()=>q,lR:()=>r,C5:()=>t});var d=c(60687),e=c(43210),f=c(8730),g=c(27605),h=c(23950),i=c(78148);let j=(0,c(24224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(i.b,{ref:c,className:(0,h.cn)(j(),a),...b}));k.displayName=i.b.displayName;let l=g.Op,m=e.createContext({}),n=({...a})=>(0,d.jsx)(m.Provider,{value:{name:a.name},children:(0,d.jsx)(g.xI,{...a})}),o=()=>{let a=e.useContext(m),b=e.useContext(p),{getFieldState:c,formState:d}=(0,g.xW)(),f=c(a.name,d);if(!a)throw Error("useFormField should be used within <FormField>");let{id:h}=b;return{id:h,name:a.name,formItemId:`${h}-form-item`,formDescriptionId:`${h}-form-item-description`,formMessageId:`${h}-form-item-message`,...f}},p=e.createContext({}),q=e.forwardRef(({className:a,...b},c)=>{let f=e.useId();return(0,d.jsx)(p.Provider,{value:{id:f},children:(0,d.jsx)("div",{ref:c,className:(0,h.cn)("space-y-2",a),...b})})});q.displayName="FormItem";let r=e.forwardRef(({className:a,...b},c)=>{let{error:e,formItemId:f}=o();return(0,d.jsx)(k,{ref:c,className:(0,h.cn)(e&&"text-destructive",a),htmlFor:f,...b})});r.displayName="FormLabel";let s=e.forwardRef(({...a},b)=>{let{error:c,formItemId:e,formDescriptionId:g,formMessageId:h}=o();return(0,d.jsx)(f.DX,{ref:b,id:e,"aria-describedby":c?`${g} ${h}`:`${g}`,"aria-invalid":!!c,...a})});s.displayName="FormControl",e.forwardRef(({className:a,...b},c)=>{let{formDescriptionId:e}=o();return(0,d.jsx)("p",{ref:c,id:e,className:(0,h.cn)("text-sm text-muted-foreground",a),...b})}).displayName="FormDescription";let t=e.forwardRef(({className:a,children:b,...c},e)=>{let{error:f,formMessageId:g}=o(),i=f?String(f?.message):b;return i?(0,d.jsx)("p",{ref:e,id:g,className:(0,h.cn)("text-sm font-medium text-destructive",a),...c,children:i}):null});t.displayName="FormMessage"},16723:(a,b,c)=>{c.d(b,{T:()=>g});var d=c(60687),e=c(43210),f=c(23950);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...b}));g.displayName="Textarea"},25721:(a,b,c)=>{c.d(b,{A0:()=>h,BF:()=>i,Hj:()=>j,XI:()=>g,nA:()=>l,nd:()=>k});var d=c(60687),e=c(43210),f=c(23950);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{className:"relative w-full overflow-auto",children:(0,d.jsx)("table",{ref:c,className:(0,f.cn)("w-full caption-bottom text-sm",a),...b})}));g.displayName="Table";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("thead",{ref:c,className:(0,f.cn)("[&_tr]:border-b",a),...b}));h.displayName="TableHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tbody",{ref:c,className:(0,f.cn)("[&_tr:last-child]:border-0",a),...b}));i.displayName="TableBody",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tfoot",{ref:c,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...b})).displayName="TableFooter";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tr",{ref:c,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...b}));j.displayName="TableRow";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("th",{ref:c,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...b}));k.displayName="TableHead";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("td",{ref:c,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...b}));l.displayName="TableCell",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("caption",{ref:c,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",a),...b})).displayName="TableCaption"},42485:(a,b,c)=>{c.d(b,{Cf:()=>l,Es:()=>n,L3:()=>o,c7:()=>m,lG:()=>i,rr:()=>p});var d=c(60687),e=c(43210),f=c(26134),g=c(11860),h=c(23950);let i=f.bL;f.l9;let j=f.ZL;f.bm;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));k.displayName=f.hJ.displayName;let l=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(j,{children:[(0,d.jsx)(k,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));l.displayName=f.UC.displayName;let m=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});m.displayName="DialogHeader";let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});n.displayName="DialogFooter";let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));o.displayName=f.hE.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));p.displayName=f.VY.displayName},78745:(a,b,c)=>{c.d(b,{p:()=>g});var d=c(60687),e=c(43210),f=c(23950);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));g.displayName="Input"},81165:(a,b,c)=>{c.d(b,{bq:()=>n,eb:()=>r,gC:()=>q,l6:()=>k,s3:()=>l,yv:()=>m});var d=c(60687),e=c(43210),f=c(91413),g=c(78272),h=c(3589),i=c(13964),j=c(23950);let k=f.bL,l=f.YJ,m=f.WT,n=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.l9,{ref:e,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.In,{asChild:!0,children:(0,d.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]}));n.displayName=f.l9.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.PP,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"h-4 w-4"})}));o.displayName=f.PP.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wn,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}));p.displayName=f.wn.displayName;let q=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.ZL,{children:(0,d.jsxs)(f.UC,{ref:g,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(o,{}),(0,d.jsx)(f.LM,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(p,{})]})}));q.displayName=f.UC.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.JU,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.JU.displayName;let r=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.q7,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(f.p4,{children:b})]}));r.displayName=f.q7.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.wv.displayName},91161:(a,b,c)=>{c.d(b,{Bn:()=>C,X5:()=>G,cd:()=>B,dw:()=>F,fz:()=>D,gf:()=>E});var d=c(54450),e=c(14212),f=c(73247),g=c(74548),h=c(75243),i=c(45543),j=c(98413),k=c(28311),l=c(9630),m=c(18577),n=c(45880),o=c(79878);let p=(0,d.rL)("role",["superadmin","admin","staff","user"]),q=(0,d.rL)("room_type",["studio","studio_deluxe","1_bedroom","2_bedroom","3_bedroom"]),r=(0,d.rL)("room_status",["vacant","occupied","maintenance","reserved"]),s=(0,d.rL)("billing_status",["paid","pending","overdue"]),t=(0,d.rL)("visitor_status",["pending","approved","rejected"]),u=(0,e.cJ)("users",{id:(0,f.vX)("id").primaryKey(),username:(0,g.Qq)("username").notNull().unique(),password:(0,g.Qq)("password").notNull(),email:(0,g.Qq)("email").notNull().unique(),fullName:(0,g.Qq)("full_name").notNull(),role:p("role").notNull().default("user"),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull()}),v=(0,e.cJ)("residents",{id:(0,f.vX)("id").primaryKey(),fullName:(0,g.Qq)("full_name").notNull(),email:(0,g.Qq)("email").notNull(),phone:(0,g.Qq)("phone").notNull(),dateOfBirth:(0,i.p6)("date_of_birth"),idNumber:(0,g.Qq)("id_number").unique(),address:(0,g.Qq)("address"),photo:(0,g.Qq)("photo"),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull()}),w=(0,e.cJ)("next_of_kin",{id:(0,f.vX)("id").primaryKey(),residentId:(0,j.nd)("resident_id").references(()=>v.id).notNull(),fullName:(0,g.Qq)("full_name").notNull(),relationship:(0,g.Qq)("relationship").notNull(),phone:(0,g.Qq)("phone").notNull(),email:(0,g.Qq)("email"),address:(0,g.Qq)("address"),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull()}),x=(0,e.cJ)("rooms",{id:(0,f.vX)("id").primaryKey(),unitNumber:(0,g.Qq)("unit_number").notNull().unique(),roomType:q("room_type").notNull(),size:(0,j.nd)("size").notNull(),floor:(0,j.nd)("floor").notNull(),status:r("status").notNull().default("vacant"),monthlyRate:(0,j.nd)("monthly_rate").notNull(),description:(0,g.Qq)("description"),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull()}),y=(0,e.cJ)("occupancy",{id:(0,f.vX)("id").primaryKey(),roomId:(0,j.nd)("room_id").references(()=>x.id).notNull(),residentId:(0,j.nd)("resident_id").references(()=>v.id).notNull(),startDate:(0,i.p6)("start_date").notNull(),endDate:(0,i.p6)("end_date").notNull(),active:(0,k.zM)("active").notNull().default(!0),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull()},a=>({unq:(0,l.Am)().on(a.roomId,a.residentId,a.active)})),z=(0,e.cJ)("billings",{id:(0,f.vX)("id").primaryKey(),occupancyId:(0,j.nd)("occupancy_id").references(()=>y.id).notNull(),amount:(0,j.nd)("amount").notNull(),dueDate:(0,i.p6)("due_date").notNull(),status:s("status").notNull().default("pending"),description:(0,g.Qq)("description"),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull()}),A=(0,e.cJ)("visitors",{id:(0,f.vX)("id").primaryKey(),residentId:(0,j.nd)("resident_id").references(()=>v.id),fullName:(0,g.Qq)("full_name").notNull(),email:(0,g.Qq)("email").notNull(),phone:(0,g.Qq)("phone").notNull(),purpose:(0,g.Qq)("purpose"),visitDate:(0,i.p6)("visit_date").notNull(),visitTime:(0,g.Qq)("visit_time"),status:t("status").notNull().default("pending"),approvedById:(0,j.nd)("approved_by_id").references(()=>u.id),approvedAt:(0,h.vE)("approved_at"),qrCode:(0,g.Qq)("qr_code"),createdAt:(0,h.vE)("created_at").defaultNow().notNull(),updatedAt:(0,h.vE)("updated_at").defaultNow().notNull(),residentName:(0,g.Qq)("resident_name"),roomNumber:(0,g.Qq)("room_number"),vehicleNumber:(0,g.Qq)("vehicle_number"),numberOfVisitors:(0,j.nd)("number_of_visitors"),details:(0,g.Qq)("details")});(0,o.K1)(u,({many:a})=>({approvedVisitors:a(A)})),(0,o.K1)(v,({one:a,many:b})=>({nextOfKin:b(w),occupancy:b(y),visitors:b(A)})),(0,o.K1)(w,({one:a})=>({resident:a(v,{fields:[w.residentId],references:[v.id]})})),(0,o.K1)(x,({many:a})=>({occupancy:a(y)})),(0,o.K1)(y,({one:a,many:b})=>({room:a(x,{fields:[y.roomId],references:[x.id]}),resident:a(v,{fields:[y.residentId],references:[v.id]}),billings:b(z)})),(0,o.K1)(z,({one:a})=>({occupancy:a(y,{fields:[z.occupancyId],references:[y.id]})})),(0,o.K1)(A,({one:a})=>({resident:a(v,{fields:[A.residentId],references:[v.id]}),approvedBy:a(u,{fields:[A.approvedById],references:[u.id]})}));let B=(0,m.r)(u,{username:a=>a.min(3,"Username must be at least 3 characters"),password:a=>a.min(6,"Password must be at least 6 characters"),email:a=>a.email("Must provide a valid email"),fullName:a=>a.min(2,"Full name must be at least 2 characters"),role:a=>a}).omit({createdAt:!0,updatedAt:!0}),C=(0,m.r)(v,{fullName:a=>a.min(2,"Full name must be at least 2 characters"),email:a=>a.email("Must provide a valid email"),phone:a=>a.min(10,"Phone number must be at least 10 characters")}).omit({createdAt:!0,updatedAt:!0}),D=(0,m.r)(w,{fullName:a=>a.min(2,"Full name must be at least 2 characters"),phone:a=>a.min(10,"Phone number must be at least 10 characters")}).omit({createdAt:!0,updatedAt:!0}),E=(0,m.r)(x,{unitNumber:a=>a.min(2,"Unit number must be at least 2 characters")}).omit({createdAt:!0,updatedAt:!0});(0,m.r)(y).omit({createdAt:!0,updatedAt:!0}),(0,m.r)(z).omit({createdAt:!0,updatedAt:!0});let F=(0,m.r)(A,{fullName:a=>a.min(2,"Full name must be at least 2 characters"),email:a=>a.email("Must provide a valid email"),phone:a=>a.min(10,"Phone number must be at least 10 characters"),purpose:a=>a.optional(),details:a=>a.optional()}).omit({createdAt:!0,updatedAt:!0,status:!0,approvedById:!0,approvedAt:!0,qrCode:!0}),G=n.z.object({username:n.z.string().min(3,"Username must be at least 3 characters"),password:n.z.string().min(6,"Password must be at least 6 characters")});n.z.object({fullName:n.z.string().min(2,"Full name must be at least 2 characters"),email:n.z.string().email("Must provide a valid email"),phone:n.z.string().min(10,"Phone number must be at least 10 characters"),residentName:n.z.string().optional().nullable(),roomNumber:n.z.string().optional().nullable(),visitDate:n.z.string(),visitTime:n.z.string(),vehicleNumber:n.z.string().optional().nullable(),numberOfVisitors:n.z.number().min(1,"Number of visitors must be at least 1"),purpose:n.z.enum(["General Visit of Father/Mother/Relative","Site Visit","Celebration","Other"]),otherPurpose:n.z.string().optional()}).refine(a=>"Other"!==a.purpose||void 0!==a.otherPurpose&&""!==a.otherPurpose.trim(),{message:"Please specify the purpose of your visit",path:["otherPurpose"]})}};